# Как обновить остатки товаров в каталоге Databird

В какой-то момент может потребоваться обновить остатки товаров уже имеющихся в каталоге Databird. В зависимости от типа источника данных об остатках, это можно сделать двумя способами: **из уже имеющегося подключения** или **создав новое подключение** исключительно для остатков.

### Обновление остатков из уже имеющегося подключения

Переходим в во вкладку “Настройки” уже имеющегося подключения.

![Untitled](%D0%9A%D0%B0%D0%BA%20%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BA%D0%B8%20%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2%20%D0%B2%20%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%D0%B5%20Databird/Untitled.png)

При необходимости устанавливаем таймер, чтоб остатки обновлялись автоматически с некой периодичностью.

![Untitled](%D0%9A%D0%B0%D0%BA%20%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BA%D0%B8%20%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2%20%D0%B2%20%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%D0%B5%20Databird/Untitled%201.png)

Внизу страницы, в настройках обновления каталога, выбираем: 

- “Создание новых товаров” ⇒ “Не создавать”
- “Добавление исходных полей”  ⇒ “Не добавлять”

![Untitled](%D0%9A%D0%B0%D0%BA%20%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BA%D0%B8%20%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2%20%D0%B2%20%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%D0%B5%20Databird/Untitled%202.png)

В список атрибутов для обновления добавляем атрибут отвечающий за остатки товара.

![Untitled](%D0%9A%D0%B0%D0%BA%20%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BA%D0%B8%20%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2%20%D0%B2%20%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%D0%B5%20Databird/Untitled%203.png)

Сохраняем изменения и запускаем подключение, чтоб обновить остатки.

![Untitled](%D0%9A%D0%B0%D0%BA%20%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BA%D0%B8%20%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2%20%D0%B2%20%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%D0%B5%20Databird/Untitled%204.png)

### Обновление остатков путем создания нового подключения

Этот вариант может подойти, если остатки товаров у вас хранятся в отдельном файле.

Для начала создаем новое подключение, хорошо, если в названии будет фигурировать слово “Остатки”, чтоб когда-нибудь не запутаться. Во вкладке “Атрибуты” заполняем лишь два атрибута: “ID товара” и “Остаток”. 

![Untitled](%D0%9A%D0%B0%D0%BA%20%D0%BE%D0%B1%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BE%D1%81%D1%82%D0%B0%D1%82%D0%BA%D0%B8%20%D1%82%D0%BE%D0%B2%D0%B0%D1%80%D0%BE%D0%B2%20%D0%B2%20%D0%BA%D0%B0%D1%82%D0%B0%D0%BB%D0%BE%D0%B3%D0%B5%20Databird/Untitled%205.png)

❗Правило атрибута ”ID товара” **должно совпадать** с аналогичным правилом атрибута в оригинальном подключении, так как связь в каталоге будет устанавливаться с его помощью.

Далее действуйте по шагам “Обновление остатков из уже имеющегося подключения” (описаны в этой статье выше).