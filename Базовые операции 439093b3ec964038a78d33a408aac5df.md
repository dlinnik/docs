# Базовые операции

Для простых манипуляций с данными в Databird предусмотрены базовые операции, найти их можно перейдя в настройки любого атрибута и нажав по кнопке “**+ Добавить операцию**”.

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image.png)

Операции делятся на 3 типа:

1. Операции с числами (JSONata type “number”)
2. Операции со строками (JSONata type “string”)
3. Операции со списками (JSONata type “array”)

## Операции с числами

### Прибавить число

Прибавляет к исходному числу ($VALUE) указанное число.

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%201.png)

### Вычесть число

Вычитает из исходного числа ($VALUE) указанное число.

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%202.png)

### Умножить на число

Умножает исходное число ($VALUE) на указанное число.

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%203.png)

### Разделить на число

Делит исходное число ($VALUE) на указанное число.

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%204.png)

### Округлить до знака

Округляет исходное число ($VALUE) с выбранной точностью. 

- Округление производится по правилам арифметики
- Округление до знака 1 отбрасывает дробную часть

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%205.png)

## Операции со строками

### Присоединить строку

Прибавляет к исходной строке ($VALUE) заданную строку.

- Строка добавляется в конец исходной строки
- Добавляемая строка не отделяется от исходной пробелом или другим разделителем
- Если нужен разделитель - укажите его в начале присоединяемой строки

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%206.png)

### Присоединить атрибут

Прибавляет к исходной строке ($VALUE) значение выбранного атрибута.

- Числовое значение атрибута автоматически преобразовывается в строку
- Значение атрибута добавляется в конец исходной строки
- Значение добавляемого атрибута не отделяется от исходной строки пробелом или другим разделителем

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%207.png)

### Обрезать по длине строки

Обрезает исходную строку ($VALUE) до указанного количества символов.

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%208.png)

### Обрезать до символов

Обрезает исходную строку ($VALUE) до первого вхождения указанного символа/подстроки.

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%209.png)

### Значение по умолчанию

Если исходное значение ($VALUE) пустует, подставляет введенную строку. Если же нет - берет возвращает исходное значение ($VALUE).

- Эквивалентно выражению JSONata: $VALUE ? $VALUE : “ваше_значение”

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%2010.png)

### Преобразовать в число

Преобразует исходное значение ($VALUE) в числовой тип данных.

- JSONata type “number”

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%2011.png)

### Габариты в список чисел

Вычленяет из исходного значения ($VALUE) только числовые данные, возвращает их список.

- “26 см х 15.5 см” ⇒ [25, 15.5]
- Чтобы обратиться к определенному габариту, используйте следом операцию JSONata: $VALUE[0]

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%2012.png)

## Операции со списками

### Разделить в строку в список

Разделяет исходное строковое значение ($VALUE) на список строк. В качестве разделителя выступает выбранный символ.

- При разделении указанные разделители пропадают
- Чтобы обратиться к определенному элементу готового списка, используйте операцию JSONata: $VALUE[0]

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%2013.png)

### Ограничить список

Ограничивает количество элементов исходного значения ($VALUE) до указанного числа.

- Если число элементов меньше указанного - список останется без изменений

![image.png](%D0%91%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B5%20%D0%BE%D0%BF%D0%B5%D1%80%D0%B0%D1%86%D0%B8%D0%B8/image%2014.png)