# Настройка правил загрузки

Настройка правил загрузки происходит внутри каждого подключения, во вкладке **“Атрибуты”**.

![Untitled](Untitled%2015.png)

Во вкладке можно прописать условия на основе которых будет происходить обработка данных и из сопоставление со внутренними атрибутами Databird.

Атрибут можно выбрать из выпадающего списка или добавить абсолютно новый, введя его название и нажав кнопку “Добавить”. Поле “ID товара” является обязательным к заполнению и должно быть заполнено так, чтоб быть уникальным для каждого нового товара.

![Untitled](Untitled%2016.png)

❕Если нужный атрибут отсутствует в списке атрибутов системы, его также можно добавить , перейдя  во вкладку **“Атрибуты товара”**, ****в левом окне или воспользовавшись специальным полем внизу страницы. 

![Untitled](Untitled%2017.png)

В этом поле можно выбрать и вернуть как случайно удаленный атрибут, так и добавить абсолютно новый, введя его название и описание.

![Untitled](Untitled%2018.png)

 ****❕Удаление нового атрибута внутри подключения не удаляет его шаблон во вкладке **“Атрибуты товара”.**

Рядом с интересующим атрибутом следует нажать на кнопку *“Настроить”*. Разберем на примере атрибута Бренд.

![Untitled](Untitled%2019.png)

В отрывшемся окне необходимо сопоставить атрибут с исходным полем. Щелчком по выпадающему списку отобразится список найденных в источнике данных исходных полей. 

![Untitled](Untitled%2020.png)

Ищем и выбираем похожее исходное поле и не забываем “Сохранить” результат. 

![Untitled](Untitled%2021.png)

Иногда при приравнивании может потребоваться какая-то более сложная логика, для этого предусмотрены “Операции” и “Операции JSONata”.

![Untitled](Untitled%2022.png)

Обычные операции работаю на подобии фильтров каталога и представляют собой простые действия производимые с выбранным ранее исходным полем. Из выпадающего списка можно выбрать операцию и задать необходимый операнд. Если задать несколько операций, то выполняться они будут в порядке очереди с верху вниз.

![Untitled](Untitled%2023.png)

Операции JSONata предназначены для еще более сложной логики обработки исходного поля. В появившемся поле необходимо прописать код на языке JSONata. К исходному полю можно обращаться переменной $VALUE.

![Untitled](Untitled%2024.png)

При необходимости можно задать приоритет выполнения операции. Чем выше значение - тем позже выполняется приравнивание.

![Untitled](Untitled%2025.png)

Слева можно наблюдать вкладку данные в которой после запуска будут отображены данные в том виде, в которым ранее были заданы присвоением или правилами. 

![Untitled](Untitled%2026.png)